<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Textbook Project</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js" type="text/javascript"></script>
    <script src="http://cdn.ckeditor.com/4.5.3/full-all/ckeditor.js"></script>

    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <style>
    	body {
    		text-align: center;
            font-size: larger;
    	}
        #myForm {
        	width:800px;
        	margin-left: auto;
        	margin-right: auto;
        }
        textarea{
        	width:100%;
        	height:100px;
            padding:5px;
        }
        input{
            width:100%;
            height:25px;
            padding:5px;
        }
    </style>
</head>
<body>
	<h1><img src="/public/images/eduNetSystems-logo.png">EduNetSystems Content Editor</h1>
	<div id="myContainer">
        <p>
        <button id="saveBtn">SAVE =></button>
        </p>
        <textarea name="Message" id="editor1" cols="10" wrap="hard" autofocus placeholder="Enter new message."></textarea>
    </div>

    <script>
        $(document).ready(function () {
            
            //ckeditor setup ***********************************
            var ed = CKEDITOR.replace( 'editor1', {
                extraPlugins: 'mathjax',
                mathJaxLib: 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML'
              } );

            ed.on("instanceReady", function(event){
                //resize to fit div  width, height // put stored data in ckEditor
                this.resize("100%",600);
                // put stored data into ckeditor
                //this.insertHtml( {{.Data}} );
                this.focus();
                
            });
            //*************************************************
            
   
            $("#saveBtn").click(function(){
                console.log("click btn");
 
                var x = CKEDITOR.instances['editor1'].getData();
                console.log(x);
                // can post multiple paramaters via post using JSON below
                $.post("setSome", {BookName: "Something", content: x}, function(data, status){
                    console.log("Data: " + data + "\nStatus: " + status);
                    // need to figure out Ajax solution here
                    //location.reload();
                });

            });

   
        });
        
    </script>

</body>
</html>